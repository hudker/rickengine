#!/bin/bash

# Thorny boot splash
echo
echo
cat <<'EOF'
                                     ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                              ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                           ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                       ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                     ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                   ÃžÃžÃžÃžÃžÃ¼      Ã‡ÃžÃžÃž   ÃžÃ       Ãž6       ÃžÃžÃžz   Ã­ÃžÃžÃžÃžÃžz    ÃžÃžÃžÃžÃžÃž
                  ÃžÃžÃžÃžÃžÃž         ÃžÃ‡   Ãž        Ã‡        Ãžz       ÃÃž6        ÃžÃžÃžÃžÃžÃž
                 ÃžÃžÃžÃžÃžÃžÃž    Ãž{   ÃžÃ‡   ÃžÃžzzz    ÃžÃžzzz    Ãž    Ãž    Ãž    ÃžÃ   ÃžÃžÃžÃžÃžÃžÃž
                ÃžÃžÃžÃžÃžÃžÃžÃž    ÃžÃž   ÃžÃ‡   ÃžÃžÃžÃžÃ‡   ÃÃžÃžÃžÃž6   ÃÃž    ÃžÃ‡   Ãž    ÃžÃ¼   ÃžÃžÃžÃžÃžÃžÃžÃž
                ÃžÃžÃžÃžÃžÃžÃžÃž    â€”    ÃžÃ‡   ÃžÃžÃžÃž    ÃžÃžÃžÃžÃž    ÃžÃž    ÃžÃžÃžÃžÃžÃž    Ãž6   ÃžÃžÃžÃžÃžÃžÃžÃž
                ÃžÃžÃžÃžÃžÃžÃžÃž        ÃÃžÃ‡   ÃžÃžÃž    ÃžÃžÃžÃžÃž    ÃžÃžÃž    ÃžÃžÃžÃžÃžÃž    Ãž6   ÃžÃžÃžÃžÃžÃžÃžÃž
                ÃžÃžÃžÃžÃžÃžÃžÃž    Ã­   ÃžÃžÃ‡   ÃžÃž    ÃžÃžÃžÃžÃž    Ã‡ÃžÃžÃž    ÃžÃž   Ãž    Ãž6   ÃžÃžÃžÃžÃžÃžÃžÃž
                ÃžÃžÃžÃžÃžÃžÃžÃž    Ãž   Ã‡ÃžÃ‡   ÃžÃ‡   â€”ÃžÃžÃžÃž6    ÃžÃžÃžÃž    ÃžÃ   Ãž    ÃžÃ‡   ÃžÃžÃžÃžÃžÃžÃžÃž
                 ÃžÃžÃžÃžÃžÃžÃž    Ãž    ÃžÃ‡   Ãž        Ãž        Ãž{        Ãž         ÃžÃžÃžÃžÃžÃžÃž
                  ÃžÃžÃžÃžÃžÃž{   ÃžÃž   Ã¼Ãž   Ãž        Ãž        ÃžÃžÃ¼      ÃžÃžÃžâ€º      ÃžÃžÃžÃžÃžÃžÃž
                    ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                      ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                        ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                           ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                               ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
                                      ÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃžÃž
EOF

echo
echo
echo
echo

echo
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   RIZZCO ENGINE: Rick Roll Search Engine     â•‘"
echo "â•‘           All paths lead to rr.mp4           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo

# Apache check
echo -n "ðŸ” Do you have Apache2 installed? (y/n): "
read apachecheck

if [ "$apachecheck" = "n" ]; then
    echo "ðŸ“¦ Installing Apache2..."
    sudo apt update
    sudo apt install apache2 -y
    echo "âœ… Apache2 installed"
fi

# Ask for desired port
echo -n "ðŸ› ï¸ What port do you want to use for Rizzco Engine? "
read chosen_port

# Create web root
echo "ðŸ§± Creating /var/www/rickengine"
sudo mkdir -p /var/www/rickengine
sudo chown -R $USER:$USER /var/www/rickengine
echo "âœ… done"

# Copy payload files
echo "ðŸ“¦ Copying rr.mp4 â†’ /var/www/rickengine"
cp rr.mp4 /var/www/rickengine/
echo "âœ… done"

echo "ðŸ“¦ Copying .htaccess â†’ /var/www/rickengine"
cp .htaccess /var/www/rickengine/
echo "âœ… done"

# Generate Apache config with chosen port
echo "ðŸ§¾ Generating Apache config for port $chosen_port"
cat <<EOF | sudo tee /etc/apache2/sites-available/rickengine.conf > /dev/null
Listen $chosen_port

<VirtualHost *:$chosen_port>
    ServerName rickengine.local
    DocumentRoot /var/www/rickengine

    <Directory /var/www/rickengine>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog \${APACHE_LOG_DIR}/rickengine_error.log
    CustomLog \${APACHE_LOG_DIR}/rickengine_access.log combined
</VirtualHost>
EOF
echo "âœ… Config created"

# Enable site
echo "ðŸ”— Linking site â†’ /etc/apache2/sites-enabled"
sudo ln -s /etc/apache2/sites-available/rickengine.conf /etc/apache2/sites-enabled/rickengine.conf
echo "âœ… done"

# Restart Apache
echo "ðŸ”„ Restarting Apache"
sudo systemctl restart apache2
echo "âœ… done"

echo "ðŸŽ‰ Rizzco Engine: Port $chosen_port is now a portal."
echo "ðŸŒ€ ENJOY THE VORTEX"
